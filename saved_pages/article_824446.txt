<!DOCTYPE html>

<html lang="ru">
<head>
<title>Как мы создали свой инструмент для доставки сборок Android-приложений / Хабр</title>
</head>
<body>
<div id="mount"><div data-async-called="true" id="app"><div class="tm-layout__wrapper"><!--[--><!-- --><div></div><!-- --><header class="tm-header" data-test-id="header"><div class="tm-page-width"><!--[--><div class="tm-header__container"><!-- --><span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_hl-ru tm-header__logo" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title><use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a><span class="tm-header__beta-sign" style="display:none;">β</span></span><!--[--><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><!--[--><button class="tm-header__dropdown-toggle"><svg class="tm-svg-img tm-header__icon tm-header__icon_dropdown" height="16" width="16"><title>Открыть список</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#arrow-down"></use></svg></button><!--]--></div><!-- --></div><a class="tm-header__become-author-btn" href="/ru/sandbox/start/">Как стать автором</a><div class="tm-feature tm-feature tm-feature_variant-inline tm-header__feature"><!-- --></div><!-- --><!--]--><!-- --></div><!--]--></div></header><div class="tm-layout"><div class="tm-page-progress-bar"></div><div class="tm-base-layout__header_is-sticky tm-base-layout__header" data-menu-sticky="true"><div class="tm-page-width"><!--[--><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/feed/">Моя лента</a><!--]--><!--[--><a class="tm-main-menu__item" href="/ru/articles/">Все потоки</a><!--]--><!--[--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/develop/">Разработка</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/admin/">Администрирование</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/design/">Дизайн</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/management/">Менеджмент</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/marketing/">Маркетинг</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/popsci/">Научпоп</a><!--]--><!--]--></nav></div></div><div class="tm-header-user-menu tm-base-layout__user-menu"><a class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id="search-button" href="/ru/search/"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark" height="24" width="24"><title>Поиск</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#search"></use></svg></a><!-- --><!-- --><div class="tm-header-user-menu__item tm-header-user-menu__write"><div><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_write tm-header-user-menu__icon_dark" height="24" width="24"><title>Написать публикацию</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#write"></use></svg></div><!-- --></div><!--[--><div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="user-menu-settings"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_dark" height="24" width="24"><title>Настройки</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#page-settings"></use></svg></button></div><a class="tm-header-user-menu__item" href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/companies/agima/articles/824446/&amp;hl=ru" rel="nofollow"><!--[--><button class="btn btn_solid btn_small tm-header-user-menu__login" type="button"><!--[-->Войти<!--]--></button><!--]--></a><!--]--><!-- --><!--teleport start--><!--teleport end--><!-- --></div></div><!--]--></div></div><!-- --><div class="tm-page-width"><!--[--><!--]--></div><main class="tm-layout__container"><div class="tm-page" companyname="agima" data-async-called="true" hl="ru" style="--0c809c5a:16px;--a086013e:100%;--7c457026:0;"><div class="tm-page-width"><!--[--><div class="tm-page__header"><!--[--><!--]--></div><div class="tm-page__wrapper"><div class="tm-page__main_has-sidebar tm-page__main"><div class="pull-down"><!-- --><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#pull-arrow"></use></svg></div></div><!--[--><!--[--><div class="tm-article-presenter"><!--[--><!--[--><!-- --><div class="tm-company-profile-card tm-company-article__profile-card"><div class="tm-company-card tm-company-profile-card__info"><div class="tm-company-card__header"><a class="tm-company-card__avatar" href="/ru/companies/agima/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="48" src="//habrastorage.org/getpro/habr/companies/ce1/7da/85b/ce17da85b6ec11846947fcb804159cdc.jpg" width="48"/></div></a><!--[--><!-- --><div class="tm-counter-container tm-company-card__rating"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score_no-margin tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">180.62</span></span><!--]--></div><!-- --></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div><!-- --><!--]--></div><div class="tm-company-card__info"><a class="tm-company-card__name" href="/ru/companies/agima/profile/"><span>AGIMA</span></a><div class="tm-company-card__description">Крупнейший интегратор digital-решений</div></div></div><div class="tm-company-profile-card__buttons"><div class="tm-button-follow tm-company-profile-card__button tm-company-profile-card__button_follow"><!-- --><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div><!-- --><!-- --><!-- --></div></div><!-- --><!--]--><!--]--><div class="tm-article-presenter__body" data-test-id="article-body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><!--[--><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><!--[--><div class="tm-article-presenter__header"><!--[--><!--]--><div class="tm-article-snippet tm-article-snippet tm-article-presenter__snippet"><!--[--><!--]--><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a class="tm-user-info__userpic" data-test-id="user-info-pic" href="/ru/users/kiselyv77/" title="kiselyv77"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" height="24" src="https://assets.habr.com/habr-web/img/avatars/086.png" width="24"/><!--]--></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a class="tm-user-info__username" href="/ru/users/kiselyv77/">kiselyv77 <!-- --></a><!--[--><span class="tm-article-datetime-published"><time datetime="2024-06-25T14:03:53.000Z" title="2024-06-25, 17:03">25  июн  2024 в 17:03</time></span><!--]--></span></span></div><!-- --></div><h1 class="tm-title tm-title_h1" data-test-id="articleTitle" lang="ru"><span>Как мы создали свой инструмент для доставки сборок Android-приложений</span></h1><div class="tm-article-snippet__stats" data-test-id="articleStats"><div class="tm-article-complexity tm-article-complexity_complexity-medium"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Уровень сложности</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#complexity-medium"></use></svg></span><span class="tm-article-complexity__label">Средний</span></div><div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#clock"></use></svg></span><span class="tm-article-reading-time__label">12 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-views"></use></svg><span class="tm-icon-counter__value" title="1686">1.7K</span></span></div><div class="tm-publication-hubs__container" data-test-id="articleHubsList"><div class="tm-publication-hubs"><!--[--><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/companies/agima/articles/"><!--[--><span>Блог компании AGIMA</span><!-- --><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/kotlin/"><!--[--><span>Kotlin</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/mobile_dev/"><!--[--><span>Разработка мобильных приложений</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/android_dev/"><!--[--><span>Разработка под Android</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><!--]--></div></div><div class="tm-article-labels" data-test-id="articleLabels"><div class="tm-article-labels__container"><div class="tm-publication-label tm-publication-label_variant-tutorial"><span>Туториал</span></div><!--[--><!--]--></div></div><!-- --><!-- --></div></div><!--[--><!-- --><div class="tm-article-body" data-gallery-root="" lang="ru"><div><!--[--><!--]--></div><div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>Всем привет! Меня зовут Данил Киселев, я Android-разработчик в <a href="https://www.agima.ru/?utm_source=habr&amp;utm_medium=article&amp;utm_campaign=android_habr">AGIMA</a>. В этой статье расскажу, как мы реализовали собственный инструмент для доставки сборок Android-приложений. Цель статьи — сэкономить время команд, которые занимаются разработкой Android-проектов и у которых пока нет подобного решения. Также к статье я прикрепил репозиторий с кодом проекта. Вы можете использовать его как стартовую версию и дорабатывать под свои нужды.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/316/8ba/fe7/3168bafe7a2d452070351a862dedcd0e.png" height="600" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/316/8ba/fe7/3168bafe7a2d452070351a862dedcd0e.png" width="1070"/></figure><p>В условиях блокировки официального сервиса Firebase App Distribution в России, перед нашим отделом мобильной разработки встала задача создать собственный инструмент для доставки сборок Android-приложений тестировщикам. Да, мы могли бы пользоваться Firebase App Distribution, используя VPN, но это не очень удобно. VPN-сервисы ненадежны, потому что подвержены блокировкам. К тому же создание собственного решения позволяет добавлять новые функции и адаптировать инструмент под конкретные нужды команды.<br/><br/>На многих проектах огромное количество времени уходило на то, чтобы достать сборку из GitLab или собрать ее вручную и отправить тестировщику. Также это сильно отвлекает от работы над задачами. Решением стала разработка инструмента, который будет принимать, хранить и раздавать файлы сборок. </p><p>Основными требованиями к новому инструменту были:</p><ol><li><p>Получать файлы сборок от GitLab, сохранять их и автоматически рассылать участникам проекта.</p></li><li><p>Предоставлять доступ к списку сборок и информации об этих сборках.</p></li><li><p>Что немаловажно — обеспечивать возможность быстрой интеграции с различными проектами и независимую работу с ними. Наша компания является студией заказной разработки и одновременно работает над множеством проектов.</p></li></ol><p><strong>Выбор Ktor</strong></p><p>Ktor был выбран не случайно: это фреймворк на Kotlin, а так как мы решили разработать инструмент силами Android-отдела, выбор был очевиден. Благодаря этому любой разработчик, знакомый с Kotlin, сможет быстро разобраться в кодовой базе, поддерживать инструмент и интегрировать его с различными проектами. </p><p><strong>Выбор Telegram</strong></p><p>В качестве интерфейса мы решили выбрать Telegram. Наши рабочие чаты чаще всего находятся именно там, поэтому не нужно далеко ходить за сборками. Кроме того, Telegram Bot API предоставляет много возможностей, хоть и имеет некоторые ограничения. Telegram позволил реализовать интуитивное взаимодействие с инструментом с помощью inline-кнопок. Благодаря этому удалось добиться эффекта перехода по страницам. </p><h2>Процесс рассылки сборок</h2><p><strong>Отправка файла</strong></p><p>Для начала реализуем отправку сборки из GitLab. В файле gitlab.yaml нужно создать этап upload qa build, который будет запускаться после этапа сборки, находить сборку и отправлять ее по нужному адресу.<br/><br/>В блоке before_script  нам нужно установить curl с помощью пакетного менеджера apk.</p><p>В блоке script с помощью команды fastlane release_notes мы создаем файл changelog.txt, который будет содержать список последних коммитов. Далее нужно найти пути к файлам, которые будем отправлять — changelog.txt и файл сборки. И с помощью ранее установленного curl отправляем файлы и имя проекта на наш сервер:</p><pre><code class="yaml">upload qa build:
 stage: upload
 needs:
   - job: produce qa build
     artifacts: true
 variables:
   FLAVOR: debug
 only:
   - develop
   - /^release.*$/
 tags:
   - android
 before_script:
   - apk add --update curl &amp;&amp; rm -rf /var/cache/apk/*
 script:
   - fastlane release_notes
   - changelog_path=$(find . -name "changelog.txt")
   - apk_path=$(find app/build/outputs/apk/gorzdrav/$FLAVOR -name "*.apk")
   - curl -F file=@$apk_path -F file=@$changelog_path -F "appName=$APP_NAME" http://{Сюда нужно вставить url вашего сервера}/uploadBuild</code></pre><p><strong>Получение файла на сервере</strong></p><p>Теперь нужно определить запрос, который будет ожидать файл сборки, название проекта и файл changelog.txt со списком последних коммитов. Этот запрос можно доработать, чтобы он мог принимать дополнительную информацию. Количество файлов, которое может принять запрос, уже не ограничено — все файлы, которые придут с GitLab, сохранятся вместе со сборкой:</p><pre><code class="kotlin">fun Route.uploadBuildModule() {
   val controller by inject&lt;UploadController&gt;()
   post("/uploadBuild") {
       val multipart = call.receiveMultipart()
       val parts = multipart.readAllParts()
       val parameters = parts.filterIsInstance&lt;PartData.FormItem&gt;()
       val files = parts.filterIsInstance&lt;PartData.FileItem&gt;()
       val appName = parameters.firstOrNull { it.name == APP_NAME_KEY }?.value
       controller.saveFiles(files, appName)
   }
}</code></pre><p><strong>Хранение файлов</strong> </p><p>Файлы мы получили, теперь их необходимо сохранить. Метод saveFiles обрабатывает файлы, поступающие от GitLab: </p><pre><code class="kotlin">override suspend fun saveFiles(
    files: List&lt;PartData.FileItem&gt;,
    appName: String?
) {
    val dateTime = getCurrentDateTime()
    val dateTimeString = dateTime.toDataString(pattern = DATE_TIME_FORMAT)
    val dateTimeStringDisplay =
        dateTime.toDataString(pattern = DATE_TIME_FORMAT_FOR_DISPLAY)
    val appDirPath = "$ROOT_PACKAGE/$appName/$dateTimeString"


    files.forEach { filePart -&gt;
        val fileName = filePart.originalFileName
        val file = File("$appDirPath/$fileName")
        val freeSpace = getFreeSpace().bytesToMb()
        try {
            file.saveFileFromPart(filePart)
        } catch (e: IOException) {
            e.printStackTrace()
            if (freeSpace &lt; MIN_FREE_SPACE) {
                telegramBot
                    .sendTextToTestUser(MEMORY_AUTO_CLEARING)
                val report = buildStore.clearOldBuilds(appName)
                telegramBot
                    .sendTextToTestUser("Отчет: $report")
                telegramBot
                    .sendTextToTestUser(RESENDING)
            }
        } finally {
            file.saveFileFromPart(filePart)
        }
    }
}</code></pre><p>Для каждого проекта создается отдельный каталог с именем, которое мы получили от GitLab, а в нем — подкаталоги с нашими сборками. Имя подкаталога соответствует времени создания сборки. Внутри каждого подкаталога находится сам файл сборки и файл changelog.txt. Тут же будут сохраняться все другие файлы, которые пришли с GitLab. Возможно, лучшим решением было бы хранить эту структуру в базе данных, но пока это реализовано таким образом:</p><figure class=""><img data-src="https://habrastorage.org/getpro/habr/upload_files/a68/4ea/545/a684ea545f345f335001ed00a0b569eb.png" height="760" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/a68/4ea/545/a684ea545f345f335001ed00a0b569eb.png" width="506"/></figure><p>Также, в случае если памяти для сохранения файла недостаточно, вызовется метод <strong>clearOldBuilds</strong> и удалит часть старых сборок.</p><p><strong>Рассылка сборок пользователям</strong></p><p>После успешного сохранения файлов необходимо отправить их пользователям. Для этого в запросе мы отправляли имя проекта. С помощью этого имени мы можем получить список пользователей, которые подписаны на проект. От пользователя нам нужно знать только его chatId — по нему мы сможем отправить сообщение. Далее мы проходимся по списку этих id и рассылаем всем уведомление о новой сборке. <br/><br/>Тут мы столкнулись с ограничением Telegram API — максимальный размер файла, который мы можем отправить, 50 MB. Поэтому решили отправлять ссылку на скачивание файла с нашего сервера и ссылку на просмотр changelog.txt.</p><pre><code class="kotlin">val apkFile = File(appDirPath).findFileByExtensions(EXTENSIONS_LIST)


if (apkFile != null) {
   val textMessage = configureBuildMessage(
       title = NEW_BUILD,
       time = dateTimeStringDisplay,
       appName = appName,
       apkDir = dateTimeString,
       apkName = apkFile.name,
   )
   if (appName != null) telegramBot.sendTextToUsersFromProject(textMessage, appName)
}</code></pre><p>Метод sendTextToUsersFromProject получает список пользователей из указанного проекта и направляет им подобное сообщение:</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/1ed/29f/a60/1ed29fa6004b4483d0dcb8ea0b7c0dc7.png" height="302" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/1ed/29f/a60/1ed29fa6004b4483d0dcb8ea0b7c0dc7.png" width="934"/></figure><p>По этим ссылкам пользователь может скачать сборку и посмотреть файл changelog.txt со списком коммитов.</p><p>Запрос для скачивания файла:</p><pre><code class="kotlin">fun Route.downloadFileModule() {
   val controller by inject&lt;DownloadFileController&gt;()
   get("/$APKS_PATH/{$APP_NAME_KEY}/{$DATE_TIME_KEY}/{$FILE_NAME_KEY}") {
       val appName = call.parameters[APP_NAME_KEY]
       val dateTime = call.parameters[DATE_TIME_KEY]
       val fileName = call.parameters[FILE_NAME_KEY]
       val file = controller.getFile(
           appName = appName,
           dateTime = dateTime,
           fileName = fileName
       )
       call.response.header(
           "Content-Disposition",
           "attachment; filename=\"${file.name}\""
       )
       call.respondFile(file)
   }
}</code></pre><p>Запрос для показа файла с коммитами пользователю:</p><pre><code class="kotlin">fun Route.showTextFileModule() {
   val controller by inject&lt;ShowTextFileController&gt;()
   get("/$SHOW_TEXT_PATH/{$APP_NAME_KEY}/{$DATE_TIME_KEY}/{$FILE_NAME_KEY}") {
       val appName = call.parameters[APP_NAME_KEY]
       val dateTime = call.parameters[DATE_TIME_KEY]
       val fileName = call.parameters[FILE_NAME_KEY]
       val file = controller.getFile(
           appName = appName,
           dateTime = dateTime,
           fileName = fileName
       )
       val text = file.readText()
       if (text.isEmpty()) {
           call.respondText("Нет информации", ContentType.Text.Plain)
       } else {
           call.respondText(text, ContentType.Text.Plain)
       }
   }
}</code></pre><h2>Интерфейс и взаимодействие с ботом</h2><p><strong>Главный раздел</strong></p><p>В самом начале пользователя встречает список проектов, на которые он подписан. У Telegram нет ограничений на количество кнопок в сообщении, так что проблем с отображением большого количества проектов не возникнет. Тут же можно получить инструкции по интеграции с ботом, зарегистрироваться или подписаться на проект.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/8ae/536/de5/8ae536de5d614ba3d23b0f1293769269.png" height="410" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/8ae/536/de5/8ae536de5d614ba3d23b0f1293769269.png" width="930"/></figure><p><strong>Регистрация проекта</strong></p><p>Для регистрации проекта нужно ввести его имя. Именно это имя мы будем передавать в запросе из GitLab. Также нужно ввести свое имя для этого проекта. Дополнительно можно ввести список необязательных полей, которые нужны для возможности запуска пайплайнов прямо из бота: ссылка на GitLab, триггер-токен, ID проекта. После регистрации бот вернет нам токен, с помощью которого другие пользователи смогут присоединиться к проекту.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/769/7c0/34f/7697c034fec177c0e31dc78866e5689f.png" height="670" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/769/7c0/34f/7697c034fec177c0e31dc78866e5689f.png" width="948"/></figure><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/7e9/b9b/399/7e9b9b39982d7732e9711f31bbdd0b54.png" height="585" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/7e9/b9b/399/7e9b9b39982d7732e9711f31bbdd0b54.png" width="1999"/></figure><p><strong>Подписка на проект</strong></p><p>После создания проекта нужно предоставить токен доступа для коллег, чтобы они могли подписаться на проект. Они введут соответствующую команду с токеном и своим именем для этого проекта, и после подписки он будет отображаться на главной странице.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/017/cee/e16/017ceee16ca3f1d2e816c6fd10f2589d.png" height="438" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/017/cee/e16/017ceee16ca3f1d2e816c6fd10f2589d.png" width="958"/></figure><p><strong>Управление проектом</strong></p><p>При переходе к проекту открывается набор действий. Тут мы можем запустить сборку проекта, получить последнюю сборку или последние 10 сборок. Также в зависимости от статуса пользователя в проекте будут отображаться дополнительные опции. Например, кнопки с возможностью удалить старые сборки, удалить проект и список пользователей отобразятся только у администратора.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/a93/78f/1ab/a9378f1ab877bf74f11a966120ae70e4.png" height="630" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/a93/78f/1ab/a9378f1ab877bf74f11a966120ae70e4.png" width="998"/></figure><p>При переходе к списку пользователей у администратора есть возможность посмотреть информацию по ним, поменять их статус в проекте или удалить из проекта.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/db4/4b4/f81/db44b4f817688d56d86e825e4279d629.png" height="548" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/db4/4b4/f81/db44b4f817688d56d86e825e4279d629.png" width="928"/></figure><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/ee5/945/4fb/ee59454fb955d8812a420eaa0936a00d.png" height="402" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/ee5/945/4fb/ee59454fb955d8812a420eaa0936a00d.png" width="912"/></figure><p><strong>Взаимодействие с Telegram API</strong></p><p>Для взаимодействия с Telegram API мы пользовались этой библиотекой: <a href="https://github.com/InsanusMokrassar/ktgbotapi"><u>https://github.com/InsanusMokrassar/ktgbotapi</u></a>. Ее преимущество в том, что она использует Kotlin Coroutines﻿.</p><p>Вот так выглядит обработка простой команды, которую пользователь введет в боте:</p><pre><code class="kotlin">command(HELP_COMMAND) {
   bot.sendMessage(
       chatId = it.chat.id,
       text = CHOOSE_PROJECT_MESSAGE,
       replyMarkup =
       getProjectsListButtons(
           ChatToProjectTable.getProjectsForChat(it.chat.id.chatId)
       )
   )
}</code></pre><p>А вот так выглядит реализация кнопок. Кнопка — это часть сообщения, и у нее есть callback data, с помощью которой мы можем обрабатывать нажатия:</p><pre><code class="kotlin">fun getProjectDeleteConfirmButtons(projectName: String): InlineKeyboardMarkup {
   return InlineKeyboardMarkup(
       keyboard = matrix {
           row {
               +CallbackDataInlineKeyboardButton(
                   text = DELETE_PROJECT_CONFIRM.getDisplayText(),
                   callbackData = "$DELETE_PROJECT_CONFIRM:$projectName"
               )
               +CallbackDataInlineKeyboardButton(
                   text = DELETE_PROJECT_CANCEL.getDisplayText(),
                   callbackData = "$DELETE_PROJECT_CANCEL:$projectName"
               )
           }
       }
   )
}</code></pre><p>Далее мы можем обработать callbackData:</p><pre><code class="kotlin">onDataCallbackQuery { callback: DataCallbackQuery -&gt;
    val callbackCommand = callback.data
    when (callbackCommand) {
        DELETE_PROJECT_CONFIRM -&gt; {


        }
    }
}</code></pre><p>Вот так в итоге выглядит навигация в боте с помощью inline кнопок:</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/50e/07c/108/50e07c108a1379e5d0c00db75206cb1c.gif" height="422" src="https://habrastorage.org/getpro/habr/upload_files/50e/07c/108/50e07c108a1379e5d0c00db75206cb1c.gif" width="634"/></figure><p>Подробнее про функциональность библиотеки можно почитать в документации: <a href="https://docs.inmo.dev/tgbotapi/index.html"><u>https://docs.inmo.dev/tgbotapi/index.html</u></a><u>.</u></p><h2>Запуск сборок прямо из бота</h2><p>Также мы реализовали функционал, который позволяет тестировщикам самостоятельно запускать сборки без доступа к GitLab. Чтобы создать и запустить пайплайн по нажатию кнопки, нужно выполнить подобный Post-запрос в Gitlab с нашего сервера:</p><pre><code class="kotlin">“https://gitlab.example.com/api/v4/projects/&lt;project_id&gt;/trigger/pipeline”</code></pre><p>Для этого мы должны знать ссылку на наш Gitlab и ID проекта. В запрос нужно передать два параметра: имя ветки, на которой мы хотим запустить пайплайн, и Trigger Token, который мы сгенерировали для проекта.</p><p><strong>Инструкция по получению Trigger Token в GitLab</strong></p><p>Trigger Token позволяет запускать CI/CD pipeline через API. Ниже приведу пошаговую инструкцию, как получить его для вашего проекта в GitLab.</p><p>Откройте проект, для которого вы хотите создать триггер. В меню слева выберите пункт "Settings" и дальше "CI/CD".</p><figure class=""><img data-src="https://habrastorage.org/getpro/habr/upload_files/721/ca3/f6c/721ca3f6cd2c01a4fd8c95b99e781ef7.png" height="689" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/721/ca3/f6c/721ca3f6cd2c01a4fd8c95b99e781ef7.png" width="496"/></figure><p>Прокрутите вниз до раздела "Pipeline Triggers" и нажмите "Expand". Нажмите кнопку "Add Trigger".</p><p>Заполните поле с описанием. Нажмите "Add Trigger" для создания.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/f1c/b5f/e6c/f1cb5fe6cc0a3ca55055036c55f08491.png" height="195" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/f1c/b5f/e6c/f1cb5fe6cc0a3ca55055036c55f08491.png" width="1288"/></figure><p>После создания триггера вы увидите его в списке. Там будет отображен токен триггера. Этот токен можно использовать для запуска pipeline через API.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/12d/90f/385/12d90f38518430481dc175dae45da43d.png" height="388" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/12d/90f/385/12d90f38518430481dc175dae45da43d.png" width="1277"/></figure><p>Все эти данные мы можем указать при регистрации проекта.</p><p>А вот как выглядит пример запроса в коде Kotlin:</p><pre><code class="kotlin">class GitLabApiImpl : GitLabApi {

   override suspend fun triggerPipeline(
       projectId: Int,
       refName: String,
       triggerToken: String,
       gitLabBaseUrl: String
   ): TriggerResult {
       val url = "$gitLabBaseUrl/api/v4/projects/$projectId/trigger/pipeline"
       val client = HttpClient(CIO)
       return try {
           val response = client.post(url) {
               parameter(TOKEN_KEY, triggerToken)
               parameter(REF_KEY, refName)
           }
           val status = response.status
           TriggerResult(
               success = status.isSuccess(),
               message = "${status.value} ${status.description}"
           )
       } catch (e: Exception) {
           println("Error: ${e.message}")
           TriggerResult(
               success = false,
               message = "Упс... Произошла неизвестная ошибка \uD83D\uDE31"
           )
       }
   }

   companion object {
       private const val TOKEN_KEY = "token"
       private const val REF_KEY = "ref"
   }
}</code></pre><p>Также нам нужно внести некоторые изменения в файл gitlab.yaml. Тут нужно добавить правило в стейдж build.</p><p><strong>- if: '$CI_PIPELINE_SOURCE == "trigger"'</strong> — это значит, что стейдж запустится, если пайплайн был создан с помощью триггера.</p><pre><code class="yaml">rules:
    - if: '$CI_PIPELINE_SOURCE == "trigger"'
      when: always
      allow_failure: true
    - if: '$CI_COMMIT_REF_NAME == "develop"'
      when: manual
      allow_failure: true</code></pre><p>В официальной документации можно подробнее ознакомится с Pipeline Triggers: <a href="https://docs.gitlab.com/ee/ci/triggers/"><u>https://docs.gitlab.com/ee/ci/triggers</u></a>.</p><p>Также при реализации подобного функционала важно учесть, что если доступ к GitLab предоставляется только через корпоративный VPN, то для выполнения запроса на Ubuntu должен быть запущен этот VPN.</p><h2>Как вы можете это использовать</h2><p>Вы можете скачать исходный код проекта, внести необходимые настройки и развернуть сервер, чтобы начать пользоваться инструментом и дорабатывать его под свои нужды!</p><p>Вам потребуется:</p><ol><li><p>Ввести API-ключ вашего Telegram-бота</p></li><li><p>Подготовить сервер на базе Ubuntu и настроить его.</p></li><li><p>Задеплоить сервер, указав его хост, имя пользователя и пароль.</p></li></ol><p>Первый пункт самый легкий — нужно зарегистрировать бота и получить API-ключ. Инструкция: <a href="https://handbook.tmat.me/ru/dev/botfather"><u>https://handbook.tmat.me/ru/dev/botfather</u></a>. </p><p>Далее просто заходите в файл <strong>AppConstants</strong> и подставляете свой API-ключ в константу <strong>TG_API_KEY</strong>.</p><p>Для двух следующих пунктов я подготовил более подробную инструкцию. Разберу ее ниже.</p><h2>Инструкция по деплою сервера</h2><p>Чтобы развернуть инструмент, вам понадобится сервер на базе Ubuntu. Настройка Ubuntu для работы с Ktor может показаться сложной, особенно если у вас нет большого опыта работы с Linux. Но, следуя данной инструкции, мне удалось успешно настроить сервер:</p><p><a href="https://gist.github.com/philipplackner/bbb3581502b77edfd2b71b7e3f7b18bd"><u>https://gist.github.com/philipplackner/bbb3581502b77edfd2b71b7e3f7b18bd</u></a>.</p><p>Хост сервера нужно подставить вместо 11.111.11.1 во всем проекте. Воспользуйтесь поиском и замените на ваше значение.</p><p>Также на Ubuntu нужно установить и настроить PostgreSQL. Вот инструкции, которыми можно воспользоваться:</p><ul><li><p><a href="https://losst.pro/ustanovka-postgresql-ubuntu-16-04"><u>https://losst.pro/ustanovka-postgresql-ubuntu-16-04</u></a>;</p></li><li><p><a href="https://ubuntu.com/server/docs/install-and-configure-postgresql"><u>https://ubuntu.com/server/docs/install-and-configure-postgresql</u></a>.</p></li></ul><p>После этого нужно обновить файл DbConstants с данными о вашей базе данных. Чтобы увидеть информацию по базе данных, воспользуйтесь командой <strong>\conninfo</strong>. <br/><br/>Пример:</p><pre><code class="kotlin">object DbConstants {
   const val DB_USERNAME = "{Имя пользователя бд}" // Пример postgresql
   const val DB_PASSWORD = "{Пароль от вашей юд}" // Пример password
   const val DB_URI = 
"{Url базы данных}" // Пример: jdbc:postgresql://localhost:5432/builddistributiondb
}</code></pre><p>После настройки Ubuntu необходимо добавить задачу deploy в build.gradle. Эта задача подключается к серверу по SSH, отправляет на него исполняемый файл build-distribution.jar и запускает сервис, который этот файл выполняет. Сервис создается на этапе настройки Ubuntu по указанной выше инструкции. Пароль для подключения считывается из файла keys/password в корне проекта. Вставьте пароль от вашего сервера в этот файл.</p><p>Инструкцию и скрипт я взял из этого гайда: <a href="https://youtu.be/sKCCwl5lNBk"><u>https://youtu.be/sKCCwl5lNBk</u></a>. Настройка сервера начинается с 1:33 минуты.</p><pre><code class="kotlin">task("deploy") {
   dependsOn("clean", "shadowJar")
   ant.withGroovyBuilder {
       doLast {
           val knownHosts = File.createTempFile("knownhosts", "txt")
           val user = "{Имя пользователя}"
           val host = "{Хост вашего сервера}"
           val password = File("keys/password").readText() // файл с паролем к серверу
           val jarFileName = "com.kiselev.build-distribution-all.jar"
           try {
               "scp"(
                   "file" to file("build/libs/$jarFileName"),
                   "todir" to "$user@$host:/root/build-distribution",
                   "password" to password,
                   "trust" to true,
                   "knownhosts" to knownHosts
               )
               "ssh"(
                   "host" to host,
                   "username" to user,
                   "password" to password,
                   "trust" to true,
                   "knownhosts" to knownHosts,
                   "command" to "mv /root/build-distribution/$jarFileName /root/build-distribution/build-distribution.jar"
               )
               "ssh"(
                   "host" to host,
                   "username" to user,
                   "password" to password,
                   "trust" to true,
                   "knownhosts" to knownHosts,
                   "command" to "systemctl stop build-distribution"
               )
               "ssh"(
                   "host" to host,
                   "username" to user,
                   "password" to password,
                   "trust" to true,
                   "knownhosts" to knownHosts,
                   "command" to "systemctl start build-distribution"
               )
           } finally {
               knownHosts.delete()
           }
       }
   }
}</code></pre><h2>Вывод</h2><p>Создание собственного инструмента для доставки сборок Android-приложений оказалось отличным решением после блокировки Firebase App Distribution. Теперь мы не тратим много времени на то, чтобы вручную отправлять сборки тестировщикам. Инструмент можно легко и быстро интегрировать с проектами с минимальной зависимостью от сторонних сервисов, таких, как VPN-сервисы. <br/><br/>Использование Telegram сделало всё максимально удобным и быстрым. Telegram позволил создать интуитивный способ взаимодействия с сервером. Интеграция с GitLab и возможность запускать сборки прямо из бота сэкономили нам массу времени и сил.</p><p>Как я уже говорил, наш инструмент легко интегрируется с множеством проектов, что особенно важно для студий заказной разработки, работающих с различными клиентами. Уверен, мы не первые, кто пришел к такому решению, но цель этой статьи — помочь другим командам, особенно небольшим, сделать процесс доставки сборок более эффективным, удобным и быстрым. </p><p>В заключение я напомню, что прикрепил к статье исходный код этого инструмента, чтобы любой желающий мог использовать его и адаптировать под свои нужды:<br/><a href="https://github.com/kiselyv77/com.kiselev.build-distribution"><u>https://github.com/kiselyv77/com.kiselev.build-distribution</u></a><u>.</u></p><p>Будет здорово, если какой-то разработчик или компания доработает наш инструмент, добавит новые крутые функции и тоже выложит в открытый доступ. </p><p>Спасибо, что прочитали! Надеюсь, кому-то эта статья поможет улучшить и ускорить процессы разработки и тестирования.</p><p>P. S. Пишите вопросы в комментариях — обязательно отвечу. И оставьте отзыв о нашем инструменте, если попробуете его у себя в команде.<em><br/><br/>А еще приглашаю на </em><a href="https://t.me/+nuLZgOU7NdJjYmMy"><em><u>канал Саши Ворожищева</u></em></a><em>, руководителя отдела мобильной разработки AGIMA. Найдете там много полезностей.</em></p><h2>Что еще почитать</h2><ul><li><p><a href="https://habr.com/ru/companies/agima/articles/817697/"><u>SQL vs NoSQL: как выбрать архитектуру БД для мобильного приложения, чтобы потом не пришлось ничего переписывать</u></a></p></li><li><p><a href="https://habr.com/ru/companies/agima/articles/730008/"><u>Ускоряем дебаг в разы. Зачем и как использовать брейкпоинты</u></a></p></li><li><p><a href="https://habr.com/ru/companies/agima/articles/810761/"><u>5 главных трендов среди мобильных приложений в 2024 году</u></a></p></li></ul><p></p></div></div></div><!-- --><!-- --></div><!-- --><!-- --></div><!--]--><!-- --><div class="tm-article-presenter__meta" data-test-id="article-meta-links"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[android]"><span>android</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[kotlin]"><span>kotlin</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%B4%D0%BE%D1%81%D1%82%D0%B0%D0%B2%D0%BA%D0%B0+%D1%81%D0%B1%D0%BE%D1%80%D0%BE%D0%BA]"><span>доставка сборок</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[%D0%BC%D0%BE%D0%B1%D0%B8%D0%BB%D1%8C%D0%BD%D0%B0%D1%8F+%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0]"><span>мобильная разработка</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[Firebase+App+Distribution]"><span>Firebase App Distribution</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[ci/cd]"><span>ci/cd</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[ktor]"><span>ktor</span></a><!--]--></li><!--]--><!-- --></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/companies/agima/articles/"><!--[--><span>Блог компании AGIMA</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/kotlin/"><!--[--><span>Kotlin</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/mobile_dev/"><!--[--><span>Разработка мобильных приложений</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/android_dev/"><!--[--><span>Разработка под Android</span><!--]--></a><!--]--></li><!--]--><!-- --></ul></div></div><!-- --><!--]--></article><!--]--></div><!-- --></div><div class="tm-article-sticky-panel" data-test-id="article-sticky-panel" style=""><div class="tm-data-icons tm-data-icons tm-data-icons_space-big tm-article-sticky-panel__icons" data-test-id="article-stats-icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>Всего голосов 13: ↑13 и ↓0</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 13: ↑13 и ↓0">+13</span></div><!--teleport start--><!--teleport end--><!-- --></div><!-- --><!-- --><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-favorite"></use></svg></span><span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">20</span></button><div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg class="tm-sharing__icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z" fill="currentColor"></path></svg></button><!--teleport start--><!--teleport end--></div><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a class="tm-article-comments-counter-link__link" data-test-id="counter-comments" href="/ru/companies/agima/articles/824446/comments/"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value">9</span><!--]--></a><!-- --></div><!--[--><!--[--><!--[--><!-- --><!--]--><!--]--><!--]--><!--teleport start--><!--teleport end--><!-- --></div></div></div><!--[--><!--]--><div class="tm-article-presenter__footer"><!--[--><!--[--><div class="tm-article-blocks"><!-- --><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><!-- --><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><!--[--><div class="tm-article-author" data-test-id="article-author-info"><!--[--><!--[--><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a class="tm-company-snippet__logo-link" href="/ru/companies/agima/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="40" src="//habrastorage.org/getpro/habr/companies/ce1/7da/85b/ce17da85b6ec11846947fcb804159cdc.jpg" width="40"/></div></a><div class="tm-company-snippet__info"><a class="tm-company-snippet__title" data-test-id="company-title" href="/ru/companies/agima/profile/"><span>AGIMA</span></a><div class="tm-company-snippet__description">Крупнейший интегратор digital-решений</div></div></div><div class="tm-article-author__buttons"><!-- --><!-- --></div></div><!-- --><div class="tm-article-author__separator"></div></div><!--]--><!--]--><div class="tm-user-card tm-user-card tm-user-card_variant-article tm-article-author__user-card" data-async-called="true"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a class="tm-user-card__userpic tm-user-card__userpic_size-40" href="/ru/users/kiselyv77/"><div class="tm-entity-image"><!--[--><img alt="" class="tm-entity-image__pic" src="https://assets.habr.com/habr-web/img/avatars/086.png"/><!--]--></div></a><div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 3 голоса "><div class="tm-counter-container__header"><!--[--><div class="karma-display positive" data-v-7635202e="">3</div><!-- --><!--]--></div><div class="tm-counter-container__footer"><!--[--><div class="tm-karma__text">Карма</div><!--teleport start--><!--teleport end--><!--]--></div></div><div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">0</span></span><!--]--></div><!-- --></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article tm-user-card__info"><div class="tm-user-card__title tm-user-card__title_variant-article tm-user-card__title"><span class="tm-user-card__name tm-user-card__name_variant-article tm-user-card__name">Данил Киселев</span><a class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article" href="/ru/users/kiselyv77/"> @kiselyv77</a><!-- --></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article tm-user-card__short-info" data-test-id="user-card-speciality">Пользователь</p></div></div><div class="tm-user-card__buttons tm-user-card__buttons_variant-article tm-user-card__buttons"><!-- --><div class="tm-user-card__button"><div class="tm-button-follow tm-user-card__button-follow"><!-- --><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div></div><!-- --><div class="tm-user-card__button tm-user-card__button_write" data-test-id="user-card-conversations"><svg class="tm-svg-img tm-user-card__button-icon" height="16" width="16"><title>Отправить сообщение</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#mail"></use></svg></div><!-- --></div><!-- --></div><!-- --></div><!--]--></div><!--]--><!-- --></section><!-- --><!--[--><div class="banner-wrapper leaderboard tm-company-article__banner" data-v-ad758baa="" style="--467224fc:200px;--58ff5eba:auto;"><!--[--><div class="placeholder-wrapper placeholder" data-v-ad758baa=""><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="adfox-banner-placeholder leaderboard" data-v-12f7bcca=""><div class="image loads" data-v-12f7bcca=""></div><div class="lines" data-v-12f7bcca=""><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div></div></div><!-- --></div><div class="tm-adfox-banner" data-v-ad758baa="" id="adfox_164725660339535756"></div><!--]--></div><!-- --><!--]--><!--]--><div class="tm-article-blocks__comments"><div class="tm-article-page-comments" id="publication-comments"><div><!--[--><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" data-test-id="counter-comments" href="/ru/companies/agima/articles/824446/comments/"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted"> Комментарии 9 </span><!--]--></a><!-- --></div><!--]--></div></div></div><!--[--><!--[--><!--]--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2><!--[--><!--]--></div><!-- --></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><!--[--><!--[--><div class="tm-tabs tm-tabs"><div class=""><!--[--><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim tm-tabs__tab-link">Лучшие за сутки</button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_slim tm-tabs__tab-link">Похожие</button></span><!--]--></div><!-- --></div><div class="similar-and-daily__tab-view"><div class="placeholder-wrapper"><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="tm-placeholder-article-cards"><!--[--><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><!--]--></div><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --></div><!-- --></div><!--]--><!--]--></div><!--]--><!-- --></section><!--[--><!--[--><div><div class="placeholder-wrapper"><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="tm-placeholder-promo"><div class="tm-placeholder-promo__header"><div class="tm-placeholder__line tm-placeholder__line_promo-title"></div></div><div class="tm-placeholder-promo__body"><div class="tm-placeholder-promo__posts"><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div><div class="tm-placeholder-promo__post"><div class="tm-placeholder-promo__image"></div><div class="tm-placeholder__line tm-placeholder__line_post-title"></div></div></div><div class="tm-placeholder-promo__dots"><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div><div class="tm-placeholder-promo__dot"></div></div></div></div><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --></div></div><div class="placeholder-wrapper"><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="tm-placeholder-inset tm-placeholder-questions"><div class="tm-placeholder-inset__header"><div class="tm-placeholder__line tm-placeholder__line_inset-header loads"></div></div><div class="tm-placeholder-inset__body"><ul class="tm-placeholder-list"><!--[--><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><li class="tm-placeholder-list__item tm-placeholder-list__item_inset"><div class="tm-placeholder__line tm-placeholder__line_item-title loads"></div><div class="tm-project-block-items__properties"><!--[--><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><span class="tm-project-block-items__property-item"><span class="tm-placeholder__line loads" style="width:100px;"></span></span><!--]--></div></li><!--]--></ul></div><div class="tm-placeholder-inset__footer"><div class="tm-placeholder__line tm-placeholder__line_inset-footer loads"></div></div></div><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --></div><!--]--><!--]--><!-- --><!--[--><!--]--><!--]--></div><!--]--><!--]--></div></div><!--]--><!--]--></div></div><div class="tm-page__sidebar"><!--[--><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div><div class="tm-sexy-sidebar_initial tm-sexy-sidebar" style="margin-top:0px;"><!--[--><!--]--><!-- --><div class="tm-layout-sidebar__ads_initial tm-layout-sidebar__ads"><div class="banner-wrapper half-page tm-layout-sidebar__banner tm-layout-sidebar__banner_top" data-v-ad758baa="" style="--467224fc:600px;--58ff5eba:auto;"><!--[--><div class="placeholder-wrapper placeholder" data-v-ad758baa=""><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="adfox-banner-placeholder half-page" data-v-12f7bcca=""><div class="image loads" data-v-12f7bcca=""></div><div class="lines" data-v-12f7bcca=""><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div></div></div><!-- --></div><div class="tm-adfox-banner" data-v-ad758baa="" id="adfox_164725680533065327"></div><!--]--></div></div><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Информация</h2><!--[--><!--]--></div><!-- --></header><!--[--><div class="tm-block__body tm-block__body"><!--[--><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Сайт</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><a class="tm-company-basic-info__link" href="http://www.agima.ru/" target="_blank">www.agima.ru</a><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Дата регистрации</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><time datetime="2010-04-20T22:10:17.000Z" title="2010-04-21, 02:10">21  апреля  2010</time><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Дата основания</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><time datetime="2004-12-31T21:00:00.000Z" title="2005-01-01, 00:00">1  января  2005</time><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Численность</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[-->501–1 000 человек<!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Местоположение</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[-->Россия<!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Представитель</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><a class="tm-company-basic-info__link" href="/ru/users/kristina_29/">Кристина Ляпцева</a><!--]--></dd></dl></div><!--]--></div><!--]--><!-- --></section><div class="tm-company-widgets"><!--[--><!--]--></div><!-- --><section class="tm-block tm-block tm-block_spacing-around tm-stories-block" data-async-called="true" data-navigatable="" tabindex="0"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Истории</h2><!--[--><!--]--></div><!-- --></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-equal"><!--[--><div class="tm-stories-empty"><!--[--><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><div class="tm-stories-card-empty"><div class="tm-stories-card-empty__image"></div><div class="tm-stories-card-empty__title"><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div><div class="tm-stories-card-empty__title-block"></div></div></div><!--]--></div><!-- --><!--]--></div><!--]--><!-- --></section><!--]--><div class="banner-wrapper medium-rectangle tm-layout-sidebar__banner tm-layout-sidebar__banner_bottom" data-v-ad758baa="" style="--467224fc:250px;--58ff5eba:auto;"><!--[--><div class="placeholder-wrapper placeholder" data-v-ad758baa=""><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="adfox-banner-placeholder medium-rectangle" data-v-12f7bcca=""><div class="image loads" data-v-12f7bcca=""></div><div class="lines" data-v-12f7bcca=""><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div><div class="line loads" data-v-12f7bcca=""></div></div></div><!-- --></div><div class="tm-adfox-banner" data-v-ad758baa="" id="adfox_164725691003361602"></div><!--]--></div></div></div><!--]--></div></div><!-- --><!--]--></div></div></main><!-- --></div><div class="tm-footer-menu"><div class="tm-page-width"><!--[--><div class="tm-footer-menu__container"><!--[--><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Ваш аккаунт</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/companies/agima/articles/824446/&amp;hl=ru" rel="nofollow" target="_self">Войти</a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/companies/agima/articles/824446/&amp;hl=ru" rel="nofollow" target="_self">Регистрация</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Разделы</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/articles/">Статьи</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/news/">Новости</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/hubs/">Хабы</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/companies/">Компании</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/users/">Авторы</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/sandbox/">Песочница</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Информация</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/help/">Устройство сайта</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/authors/codex/">Для авторов</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/companies/corpblogs/">Для компаний</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/docs/transparency/">Документы</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">Соглашение</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">Конфиденциальность</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Услуги</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">Корпоративный блог</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">Медийная реклама</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">Нативные проекты</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">Образовательные программы</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">Стартапам</a></li><!--]--></ul></div></div><!--]--></div><!--]--></div></div><div class="tm-footer"><div class="tm-page-width"><!--[--><div class="tm-footer__container"><!-- --><div class="tm-footer__social"><!--[--><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Facebook</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Twitter</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>VK</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Telegram</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Youtube</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Яндекс Дзен</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a><!--]--></div><!--teleport start--><!--teleport end--><button class="tm-footer__link"><!-- --> Настройка языка</button><a class="tm-footer__link" href="/ru/feedback/">Техническая поддержка</a><div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2025, </span><span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div><!--]--></div></div><!-- --><!--]--></div><!-- --></div></div>
<div id="overlays"><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--></div>
</body>
</html>
