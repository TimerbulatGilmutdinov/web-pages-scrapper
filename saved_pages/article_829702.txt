<!DOCTYPE html>

<html lang="ru">
<head>
<title>Declarative Gradle: рывок или прорыв? / Хабр</title>
</head>
<body>
<div id="mount"><div data-async-called="true" id="app"><div class="tm-layout__wrapper"><!--[--><!-- --><div></div><!-- --><header class="tm-header" data-test-id="header"><div class="tm-page-width"><!--[--><div class="tm-header__container"><!-- --><span class="tm-header__logo-wrap"><a class="tm-header__logo tm-header__logo_hl-ru tm-header__logo" href="/ru/"><svg class="tm-svg-img tm-header__icon" height="16" width="16"><title>Хабр</title><use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a><span class="tm-header__beta-sign" style="display:none;">β</span></span><!--[--><div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><!--[--><button class="tm-header__dropdown-toggle"><svg class="tm-svg-img tm-header__icon tm-header__icon_dropdown" height="16" width="16"><title>Открыть список</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#arrow-down"></use></svg></button><!--]--></div><!-- --></div><a class="tm-header__become-author-btn" href="/ru/sandbox/start/">Как стать автором</a><div class="tm-feature tm-feature tm-feature_variant-inline tm-header__feature"><!-- --></div><!-- --><!--]--><!-- --></div><!--]--></div></header><div class="tm-layout"><div class="tm-page-progress-bar"></div><div class="tm-base-layout__header_is-sticky tm-base-layout__header" data-menu-sticky="true"><div class="tm-page-width"><!--[--><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/feed/">Моя лента</a><!--]--><!--[--><a class="tm-main-menu__item" href="/ru/articles/">Все потоки</a><!--]--><!--[--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/develop/">Разработка</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/admin/">Администрирование</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/design/">Дизайн</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/management/">Менеджмент</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/marketing/">Маркетинг</a><!--]--><!--[--><a class="tm-main-menu__item" data-test-id="main-menu-item" href="/ru/flows/popsci/">Научпоп</a><!--]--><!--]--></nav></div></div><div class="tm-header-user-menu tm-base-layout__user-menu"><a class="tm-header-user-menu__item tm-header-user-menu__search" data-test-id="search-button" href="/ru/search/"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark" height="24" width="24"><title>Поиск</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#search"></use></svg></a><!-- --><!-- --><div class="tm-header-user-menu__item tm-header-user-menu__write"><div><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_write tm-header-user-menu__icon_dark" height="24" width="24"><title>Написать публикацию</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#write"></use></svg></div><!-- --></div><!--[--><div class="tm-header-user-menu__item"><button class="tm-header-user-menu__toggle" data-test-id="user-menu-settings"><svg class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_dark" height="24" width="24"><title>Настройки</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#page-settings"></use></svg></button></div><a class="tm-header-user-menu__item" href="https://habr.com/kek/v1/auth/habrahabr/?back=/ru/companies/spring_aio/articles/829702/&amp;hl=ru" rel="nofollow"><!--[--><button class="btn btn_solid btn_small tm-header-user-menu__login" type="button"><!--[-->Войти<!--]--></button><!--]--></a><!--]--><!-- --><!--teleport start--><!--teleport end--><!-- --></div></div><!--]--></div></div><!-- --><div class="tm-page-width"><!--[--><!--]--></div><main class="tm-layout__container"><div class="tm-page" companyname="spring_aio" data-async-called="true" hl="ru" style="--0c809c5a:16px;--a086013e:100%;--7c457026:0;"><div class="tm-page-width"><!--[--><div class="tm-page__header"><!--[--><!--]--></div><div class="tm-page__wrapper"><div class="tm-page__main_has-sidebar tm-page__main"><div class="pull-down"><!-- --><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg class="tm-svg-img pull-down__icon pull-down__arrow" height="24" width="24"><title>Обновить</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#pull-arrow"></use></svg></div></div><!--[--><!--[--><div class="tm-article-presenter"><!--[--><!--[--><!-- --><div class="tm-company-profile-card tm-company-article__profile-card"><div class="tm-company-card tm-company-profile-card__info"><div class="tm-company-card__header"><a class="tm-company-card__avatar" href="/ru/companies/spring_aio/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="48" src="//habrastorage.org/getpro/habr/company/8f1/91a/458/8f191a4584b8fab12d15af23e447a1d5.png" width="48"/></div></a><!--[--><!-- --><div class="tm-counter-container tm-company-card__rating"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">77.73</span></span><!--]--></div><!-- --></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div><!-- --><!--]--></div><div class="tm-company-card__info"><a class="tm-company-card__name" href="/ru/companies/spring_aio/profile/"><span>Spring АйО</span></a><!-- --></div></div><div class="tm-company-profile-card__buttons"><div class="tm-button-follow tm-company-profile-card__button tm-company-profile-card__button_follow"><!-- --><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div><!-- --><!-- --><!-- --></div></div><!-- --><!--]--><!--]--><div class="tm-article-presenter__body" data-test-id="article-body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><!--[--><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><!--[--><div class="tm-article-presenter__header"><!--[--><!--]--><div class="tm-article-snippet tm-article-snippet tm-article-presenter__snippet"><!--[--><!--]--><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a class="tm-user-info__userpic" data-test-id="user-info-pic" href="/ru/users/spring_aio/" title="spring_aio"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="24" src="//habrastorage.org/r/w48/getpro/habr/avatars/8e0/5e8/a1c/8e05e8a1c5fd4560f661efb2cb00e77e.png" width="24"/></div></a><span class="tm-user-info__user tm-user-info__user_appearance-default" data-test-id="user-info-description"><a class="tm-user-info__username" href="/ru/users/spring_aio/">spring_aio <!-- --></a><!--[--><span class="tm-article-datetime-published"><time datetime="2024-07-18T11:00:04.000Z" title="2024-07-18, 14:00">18  июл  2024 в 14:00</time></span><!--]--></span></span></div><!-- --></div><h1 class="tm-title tm-title_h1" data-test-id="articleTitle" lang="ru"><span>Declarative Gradle: рывок или прорыв?</span></h1><div class="tm-article-snippet__stats" data-test-id="articleStats"><div class="tm-article-complexity tm-article-complexity_complexity-low"><span class="tm-svg-icon__wrapper tm-article-complexity__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Уровень сложности</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#complexity-low"></use></svg></span><span class="tm-article-complexity__label">Простой</span></div><div class="tm-article-reading-time"><span class="tm-svg-icon__wrapper tm-article-reading-time__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Время на прочтение</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#clock"></use></svg></span><span class="tm-article-reading-time__label">12 мин</span></div><span class="tm-icon-counter tm-data-icons__item"><svg class="tm-svg-img tm-icon-counter__icon" height="24" width="24"><title>Количество просмотров</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-views"></use></svg><span class="tm-icon-counter__value" title="9148">9.1K</span></span></div><div class="tm-publication-hubs__container" data-test-id="articleHubsList"><div class="tm-publication-hubs"><!--[--><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/companies/spring_aio/articles/"><!--[--><span>Блог компании Spring АйО</span><!-- --><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/programming/"><!--[--><span>Программирование</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/java/"><!--[--><span>Java</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/kotlin/"><!--[--><span>Kotlin</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><span class="tm-publication-hub__link-container"><a class="tm-publication-hub__link" href="/ru/hubs/gradle/"><!--[--><span>Gradle</span><span class="tm-article-snippet__profiled-hub" title="Профильный хаб">*</span><!--]--></a></span><!--]--></div></div><div class="tm-article-labels" data-test-id="articleLabels"><div class="tm-article-labels__container"><div class="tm-publication-label tm-publication-label_variant-review"><span>Обзор</span></div><!--[--><div class="tm-publication-label tm-publication-label_variant-technotext2024"><a class="" href="/ru/technotext/2024/">✏️ Технотекст 7</a></div><!--]--></div></div><!-- --><!-- --></div></div><!--[--><!-- --><div class="tm-article-body" data-gallery-root="" lang="ru"><div><!--[--><!--]--></div><div id="post-content-body"><div><div class="article-formatted-body article-formatted-body article-formatted-body_version-2"><div xmlns="http://www.w3.org/1999/xhtml"><p>В мире Java разработки (особенно на Spring) большую часть рынка занимают две системы сборки: Gradle и Maven. Maven исповедует более консервативный подход, в котором конфигурация сборки описывается в декларативном pom.xml. Модный молодежный Gradle, <a href="https://github.com/spring-io/start.spring.io/issues/1012">являющийся дефолтом</a> в <a href="http://start.spring.io">start.spring.io</a>, использует декларативно‑императивные скрипты с DSL на Groovy или Kotlin. Казалось бы, что еще нужно? Тем не менее, полгода назад команда Gradle анонсировала свой новый продукт — <a href="https://blog.gradle.org/declarative-gradle">Declarative Gradle</a>. Редакция <a href="https://t.me/+QmrKn0wA8CdkNjAy">Spring АйО</a> изучила документацию проекта и попробовала его в деле. Подробности под катом.</p><h3>Что это?</h3><p>Конечно, название проекта говорит само за себя — новый проект это все тот же Gradle, из которого убрали возможность писать императивные конструкции. Почему команда Gradle пошла на такой шаг? Казалось, что сила Gradle именно в его гибкости (помимо скорости сборки).</p><p>Разработчики Gradle разделяют своих пользователей на две группы: разработчики программного обеспечения и билд инженеры (речь про девопсов?). Задача первых — писать софт, и система сборки — всего лишь инструмент, которому они делегируют некоторые задачи. Билд инженеры же занимаются непосредственно сборками софта и оптимизациями этих сборок. </p><p>Очень часто эти роли пересекаются. Особенно, в небольших командах. Как правило, там есть только есть 1–2 человека, которые шарят за Gradle, занимаются исправлением всех проблем сборки, могут написать плагин. В больших же командах, для этих задач есть специальная роль — билд инженер. И одна из задач Declarative Gradle — сделать четкое разделение между этими двумя ролями.</p><h4>Описание ПО и Логика сборки</h4><p>Описание ПО — это то, <em>что</em> мы должны собрать. Она описывает ответы на такие вопросы, как:</p><ul><li><p>Какого типа программное обеспечение создается?</p></li><li><p>На каких языках реализовано программное обеспечение?</p></li><li><p>Для каких платформ предназначено программное обеспечение?</p></li><li><p>Каковы зависимости программного обеспечения?</p></li><li><p>Какие инструменты должны использоваться для компиляции/связывания/инструментирования/сборки/документирования программного обеспечения?</p></li><li><p>Какие проверки качества нужно выполнить перед выпуском программного обеспечения?</p></li></ul><p>Логика сборки — это то, как программное обеспечение будет построено. Это код, который добавляет новые возможности в Gradle, интегрирует различные инструменты и задает соглашения для определения программного обеспечения.</p><p>Описание программного обеспечения предназначено для чтения и модификации разработчиками программного обеспечения. Логика сборки предназначена для чтения и модификации билд инженерами.</p><h3>Ключевые принципы Declarative Gradle</h3><ul><li><p><strong>Простота использования для разработчиков программного обеспечения</strong>. Разработчики должны иметь возможность определять любое программное обеспечение и строить свои проекты без необходимости понимать детали работы системы сборки. </p></li><li><p><strong>Гибкость для билд инженеров и продвинутых пользователей</strong>. Опытные пользователи Gradle должны сохранять текущий уровень гибкости и иметь возможность автоматизировать широкий спектр сценариев сборки программного обеспечения с помощью пользовательской логики сборки. </p></li><li><p><strong>Улучшение интеграции с IDE</strong>. Импорт проекта в IDE и взаимодействие с ним должны быть быстрыми и надежными. IDE и другие инструменты должны иметь возможность автоматически или через пользовательский интерфейс изменять описание программного обеспечения надежным образом.</p></li></ul><p>Рассмотрим каждый из этих принципов по порядку.</p><h3>Простота использования</h3><p>Взглянем на пример билд скрипта: </p><pre><code class="kotlin">javaApplication {

   javaVersion = 21
   mainClass = "com.example.App"

   dependencies {
       implementation(project(":java-util"))
       implementation("com.google.guava:guava:32.1.3-jre")
   }
}</code></pre><p>Выглядит крайне просто. Даже не знакомый с Gradle пользователь поймет, что тут написано.</p><p>Ограниченный DSL позволит использовать только ограниченный набор конструкций, таких как вложенные блоки, присваивание и вызовы определенных методов. Произвольный поток выполнения и вызов произвольных методов будут запрещены. Писать логику сборки можно будет на любом языке JVM, таком как Java, Kotlin или Groovy, но эта логика должна будет находиться в плагинах (локальных или публичных).</p><p>Ограниченный DSL является шагом в правильном направлении, но это лишь часть усилий, которые команда Gradle предпринимает для упрощения и удобства описания программного обеспечения для разработчиков.</p><p>Другая проблема заключается в том, что текущее описание программного обеспечения не всегда использует концепции, отражающие соответствующую область программного обеспечения. Чтобы работать с Gradle, разработчикам обычно нужно понимать специфические для Gradle конструкции, такие как конфигурации зависимостей и таски (tasks). Эти концепции относятся к логике сборки и должны касаться только билд инженеров. В большинстве случаев разработчики программного обеспечения должны иметь возможность настраивать все необходимое, используя понятия, с которыми они уже знакомы, такие как библиотеки, приложения, версии и тестовые наборы.</p><h3>Интеграция с IDE</h3><p>Часто разработчики выбирают те технологии, для которых есть отличная поддержка в IDE. Поэтому команда Gradle хочет упростить такую поддержку для разработчиков IDE. Автоматизированное редактирование императивных скриптов сборки — задача в общем случае не решаемая.</p><p>Для скриптов на Groovy едва ли можно было сделать хоть сколько‑нибудь адекватную поддержку, ввиду его динамической природы. Поддержка Kotlin DSL была сильно лучше, включала в себя такие вещи, как: автокомплишн, быстрый доступ к документации, навигация к исходникам и даже рефакторинги. Но автоматически редактировать такие скрипты, особенно через средства UI, очень затруднительно.</p><p>Кроме того, раньше, чтобы отобразить всю структуру проекта, необходимо было выполнить множество сложных вычислений, таких как разрешение зависимостей. Та же IntelliJ IDEA для решения этой задачи запускала свой код внутри самого Gradle, чтобы получить доступ к структуре проекта.</p><h3>Попробуем в деле</h3><p>Прежде чем мы посмотрим, как выполняется третий принцип Declarative Gradle - гибкость для билд инженеров и продвинутых пользователей - нужно попробовать новую технологию в деле.</p><p>Склонируем репозиторий Declarative Gradle и откроем проект <a href="https://github.com/gradle/declarative-gradle/tree/main/unified-prototype">https://github.com/gradle/declarative-gradle/tree/main/unified-prototype</a> в IntelliJ IDEA.</p><p>Помимо стандартного build.gradle.kts (который кстати пустой), мы видим файл settings.gradle.dcl. Никакой поддержки синтаксиса в IDEА пока что нет, однако структура файла достаточно простая и довольно очевидная. Проект включает в себя 20 модулей, с различными конфигурациями сборки, на таких технологиях как Java, Kotlin, Android, CPP, Swift. Нас интересует только Java, поэтому все помимо нее я закомментировал. </p><p>Проект распознается IntelliJ IDEA как Gradle проект (видимо за счет пустого build.gradle.kts), и среда разработки сразу запускает процедуру импорта. </p><p>Помимо демо проектов видим модуль unified-plugin, в котором, по всей видимости, и находится вся логика сборки. Этот модуль уже использует классический Gradle с Kotlin DSL. Опять отключаем лишние проекты в <code>settings.gradle.dsl</code>:</p><pre><code class="kotlin">dependencyResolutionManagement {
   repositories {
       google()
       gradlePluginPortal()
       mavenCentral()
   }
}

includeBuild("build-logic")
//include("plugin-android")
include("plugin-jvm")
//include("plugin-kmp")
//include("plugin-swift")
//include("plugin-cpp")
include("plugin-common")
//include("internal-testing-utils")

rootProject.name = "unified-plugin"</code></pre><p>и перезапускаем импорт.<br/><br/>Идея смогла успешно распарсить проект, и отсутствие кода в <code>build.gradle.kts</code> ее не смутило. Это и не удивительно, как я писал раньше, для этой задачи идея встраивается непосредственно в сам Gradle и считывает его модель. На сколько можно понять, внутренняя модель не сильно поменялась. Однако, запустить таску run из IntelliJ IDEA у меня не получилось.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/4b7/116/c80/4b7116c80b979007e67e8a2629567271.png" height="976" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/4b7/116/c80/4b7116c80b979007e67e8a2629567271.png" width="1118"/></figure><pre><code class="bash">&gt; Directory '/Users/alexander/workspace/declarative-gradle/unified-prototype/testbed-java-application' does not contain a Gradle build.</code></pre><p>Однако, запуск через терминал отработал успешно:</p><pre><code class="bash">unified-prototype git:(main) ✗ ./gradlew :testbed-java-application:run

Welcome to Gradle 8.10-20240703002818+0000!

Starting a Gradle Daemon, 1 stopped Daemon could not be reused, use --status for details

&gt; Task :testbed-java-application:run
Hello from Java 17.0.4.1
Welcome to the java-utils library!

BUILD SUCCESSFUL in 10s
24 actionable tasks: 7 executed, 17 up-to-date</code></pre><h3>Скрипт сборки</h3><p>Конечно, скриптом наверно это называть не совсем корректно. В новой терминологии это скорее описание структуры нашего проекта.</p><pre><code class="kotlin">javaApplication {
   javaVersion = 17
   mainClass = "com.example.App"

   dependencies {
       implementation(project(":java-util"))
       implementation("com.google.guava:guava:32.1.3-jre")
   }

   testing {
       // test on 21
       javaVersion = 17

       dependencies {
           implementation("org.junit.jupiter:junit-jupiter:5.10.2")
       }
   }
}</code></pre><p>Понятное, декларативное описание. Посмотрим, как это работает внутри. Код плагина находится в этом же репозитории, и буквально за 30 секунд я нахожу класс <code>org.gradle.api.experimental.java.JavaApplication</code>:</p><pre><code class="java">@Restricted
public interface JavaApplication extends HasJavaTarget, HasJvmApplication, HasCliExecutables {
   @Nested
   Testing getTesting();


   @Configuring
   default void testing(Action&lt;? super Testing&gt; action) {
       action.execute(getTesting());
   }
}
</code></pre><p>Это и есть модель, которая будет построена из .gradle.dcl описания. Большинство параметров объявлены в базовых интерфейсах <code>HasJavaTarget</code>, <code>HasJvmApplication</code>, <code>HasCliExecutables</code>.</p><p>В частности:</p><pre><code class="java">@Restricted
public interface HasJvmApplication extends HasApplicationDependencies {
   @Restricted
   Property&lt;String&gt; getMainClass();
}</code></pre><p>наследуется от модели, хранящей зависимости. Также, обращаем на аннотацию <code>@Restricted</code>. Чтобы выяснить, для чего она нужна меняем свойство <code>distributionUrl</code> в <code>gradle-wrapper.properties</code>:</p><pre><code class="bash"># было
distributionUrl=https\://services.gradle.org/distributions-snapshots/gradle-8.10-20240703002818+0000-bin.zip
# стало
distributionUrl=https\://services.gradle.org/distributions-snapshots/gradle-8.10-20240703002818+0000-all.zip</code></pre><p>и подгружаем исходники. К сожалению, документации я не нахожу, зато нахожу комментарий:</p><pre><code class="java">@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
public @interface Restricted {} // TODO: should eventually be renamed to "Declarative"</code></pre><p>Становится понятно, что аннотацией помечаются декларативные модели, а после поиска юсаджей <code>JavaApplication</code>, находим в <code>org.gradle.api.experimental.java.StandaloneJavaApplicationPlugin</code> способ их получения:</p><pre><code class="java">abstract public class StandaloneJavaApplicationPlugin implements Plugin&lt;Project&gt; {
   public static final String JAVA_APPLICATION = "javaApplication";


   @SoftwareType(name = JAVA_APPLICATION, modelPublicType = JavaApplication.class)
   abstract public JavaApplication getApplication();


   @Override
   public void apply(Project project) {
       JavaApplication dslModel = getApplication();
       project.getExtensions().add(JAVA_APPLICATION, dslModel);


       project.getPlugins().apply(ApplicationPlugin.class);
       project.getPlugins().apply(CliApplicationConventionsPlugin.class);


       project.getExtensions().getByType(TestingExtension.class).getSuites().withType(JvmTestSuite.class).named("test").configure(testSuite -&gt; {
           testSuite.useJUnitJupiter();
       });


       linkDslModelToPlugin(project, dslModel);
   }


   @Inject
   protected abstract JavaToolchainService getJavaToolchainService();


   private void linkDslModelToPlugin(Project project, JavaApplication dslModel) {
       JvmPluginSupport.linkJavaVersion(project, dslModel);
       JvmPluginSupport.linkApplicationMainClass(project, dslModel);
       JvmPluginSupport.linkMainSourceSourceSetDependencies(project, dslModel.getDependencies());
       JvmPluginSupport.linkTestJavaVersion(project, getJavaToolchainService(), dslModel.getTesting());
       JvmPluginSupport.linkTestSourceSourceSetDependencies(project, dslModel.getTesting().getDependencies());


       dslModel.getRunTasks().add(project.getTasks().named("run"));
   }
}
</code></pre><p>Сам <code>StandaloneJavaApplicationPlugin</code> регистрируется с помощью специальной аннотации в главном плагине <code>JvmEcosystemPlugin</code>:</p><pre><code class="java">@RegistersSoftwareTypes({
       StandaloneJavaApplicationPlugin.class,
       StandaloneJavaLibraryPlugin.class,
       StandaloneJvmLibraryPlugin.class,
       StandaloneJvmApplicationPlugin.class
})
public class JvmEcosystemPlugin implements Plugin&lt;Settings&gt; {
   @Override
   public void apply(Settings target) {
       target.getPlugins().apply(JvmEcosystemConventionsPlugin.class);
   }
}</code></pre><p>Логика плагина достаточно примитивная. Он берет декларативное описание модели, а дальше с помощью нее настраивает стандартный java плагин от Gradle.</p><h3>Поддержка Spring Boot</h3><p>Я решил сделать примитивную поддержку Spring Boot. Для этого я объявляю свой класс модели:</p><pre><code class="java">@Restricted
public interface SpringApplication extends JavaApplication {
}</code></pre><p>Далее свой класс плагина:</p><details class="spoiler"><summary>Скрытый текст</summary><div class="spoiler__content"><pre><code class="java">abstract public class StandaloneSpringApplicationPlugin implements Plugin&lt;Project&gt; {
   public static final String SPRING_APPLICATION = "springApplication";


   @SoftwareType(name = SPRING_APPLICATION, modelPublicType = SpringApplication.class)
   abstract public SpringApplication getApplication();


   @Override
   public void apply(Project project) {
       SpringApplication dslModel = getApplication();
       project.getExtensions().add(SPRING_APPLICATION, dslModel);


       project.getPlugins().apply(ApplicationPlugin.class);
       project.getPlugins().apply(SpringBootPlugin.class);


       project.getExtensions().getByType(SpringBootExtension.class).getMainClass().set(dslModel.getMainClass());


       project.getExtensions().getByType(TestingExtension.class).getSuites().withType(JvmTestSuite.class).named("test").configure(testSuite -&gt; {
           testSuite.useJUnitJupiter();
       });


       linkDslModelToPlugin(project, dslModel);
   }


   @Inject
   protected abstract JavaToolchainService getJavaToolchainService();


   private void linkDslModelToPlugin(Project project, SpringApplication dslModel) {
       JvmPluginSupport.linkJavaVersion(project, dslModel);
       JvmPluginSupport.linkApplicationMainClass(project, dslModel);
       JvmPluginSupport.linkMainSourceSourceSetDependencies(project, dslModel.getDependencies());
       JvmPluginSupport.linkTestJavaVersion(project, getJavaToolchainService(), dslModel.getTesting());
       JvmPluginSupport.linkTestSourceSourceSetDependencies(project, dslModel.getTesting().getDependencies());


       dslModel.getRunTasks().add(project.getTasks().named("run"));
   }
}</code></pre><p></p></div></details><p>в котором практически ничего не меняю, помимо подключения самого SpringBootPlugin (предварительно добавив его в зависимости), и пробрасывания ему main класса:</p><pre><code class="java">project.getExtensions().getByType(SpringBootExtension.class).getMainClass().set(dslModel.getMainClass());</code></pre><p>Не забываем зарегистрировать новый плагин:</p><pre><code class="java">@RegistersSoftwareTypes({
       StandaloneJavaApplicationPlugin.class,
       StandaloneJavaLibraryPlugin.class,
       StandaloneJvmLibraryPlugin.class,
       StandaloneJvmApplicationPlugin.class,
	   StandaloneSpringApplicationPlugin.class
})
public class JvmEcosystemPlugin implements Plugin&lt;Settings&gt; {
 …
}
</code></pre><p>Меняем в скрипте сборки <code>javaApplication</code> на <code>springApplication</code>, добавляем в зависимости <code>spring-boot-starter</code>, запускаем Gradle Sync, и видим, что в модуле появилась новая таска bootRun:</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/995/66e/a99/99566ea99e600e572d48c7b1021e88b9.png" height="1132" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/995/66e/a99/99566ea99e600e572d48c7b1021e88b9.png" width="1122"/></figure><p>Переписываем класс App:</p><pre><code class="java">@SpringBootApplication
public class App implements ApplicationListener&lt;ApplicationReadyEvent&gt; {
   public static void main(String[] args) {
       SpringApplication.run(App.class);
   }

   @Override
   public void onApplicationEvent(ApplicationReadyEvent event) {
       System.out.println("Hello from Spring Boot built with Declarative Gradle");
   }
}</code></pre><p>Запуск через IntelliJ IDEA все также не работает, однако в терминале:</p><pre><code class="bash"> unified-prototype git:(main) ✗ ./gradlew :testbed-java-application:bootRun

&gt; Task :testbed-java-application:bootRun

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.1)

2024-07-14T17:31:55.246+04:00  INFO 22406 --- [           main] com.example.App                          : Starting App using Java 17.0.4.1 with PID 22406 (/Users/alexander/workspace/declarative-gradle/unified-prototype/testbed-java-application/build/classes/java/main started by alexander in /Users/alexander/workspace/declarative-gradle/unified-prototype/testbed-java-application)
2024-07-14T17:31:55.248+04:00  INFO 22406 --- [           main] com.example.App                          : No active profile set, falling back to 1 default profile: "default"
2024-07-14T17:31:55.441+04:00  INFO 22406 --- [           main] com.example.App                          : Started App in 0.327 seconds (process running for 0.495)
Hello from Spring Boot built with Declarative Gradle

BUILD SUCCESSFUL in 2s
25 actionable tasks: 6 executed, 19 up-to-date
➜  unified-prototype git:(main) ✗ </code></pre><p>У нас все получилось!</p><p>Что интересно, как только я сделал Gradle Sync, у меня завелся установленный в IDEA <a href="https://amplicode.ru/?utm_source=habr_spring_aio&amp;utm_medium=article&amp;utm_campaign=Declarative%20Gradle">Amplicode</a>.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/d3e/dac/84a/d3edac84a131c5fc026b9f854b567708.png" height="558" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/d3e/dac/84a/d3edac84a131c5fc026b9f854b567708.png" width="888"/></figure><h3>Гибкость для билд инженеров и продвинутых пользователей</h3><p>Осталось рассказать про последний принцип Declarative Gradle. Я думаю, что вышесказанное говорит само за себя. Я как продвинутый пользователь с легкостью подключил простейшую поддержку Spring Boot. Конечно, какие-то сложные кейсы я не рассмотрел, однако уже сейчас видно, что в гибкости профессиональные пользователи Gradle не потеряют. А если для какой-то задачи уже есть Gradle плагин, то очень просто сделать для него обертку в Declarative Gradle стиле.</p><h3>Заключение</h3><p>Что ж, я провел достаточно увлекательно эти несколько часов, пока изучал Declarative Gradle и писал эту статью. Технология пока сырая, разработчики так и пишут, что она не для Production использования. IDEA не может запустить таски из дерева Gradle проекта. Но, у меня получилось запустить небольшое SpringBoot приложение, которое мгновенно задетектилось сторонним плагином Amplicode. Какое распространение получит Declarative Gradle после выхода в stable, сказать сложно. Но меня прельщает простота скриптов сборки для обычных разработчиков и потенциал поддержки в IDE. Работа с декларативным описанием и работа с императивным кодом это как разница между счетным множеством и континуумом.</p><p>Кстати, идею декларативности также исповедует новая система сборки от JetBrains - <a href="https://blog.jetbrains.com/blog/2023/11/09/amper-improving-the-build-tooling-user-experience/">Amper</a>. Но в отличие от Declarative Gradle описание проект выполняется в yaml файле (как JetBrains смог предать Kotlin?).</p><p>Исходники вы можете посмотреть в моем репозитории: <a href="https://github.com/alexander-shustanov/declarative-gradle-with-spring-boot/tree/master/unified-prototype/testbed-spring-application">https://github.com/alexander-shustanov/declarative-gradle-with-spring-boot/tree/master/unified-prototype/testbed-spring-application</a>.</p><figure class="full-width"><img data-src="https://habrastorage.org/getpro/habr/upload_files/5c9/bcd/441/5c9bcd4419efd21f3f904c51be51531d.png" height="412" src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/5c9/bcd/441/5c9bcd4419efd21f3f904c51be51531d.png" width="1920"/></figure><p>Присоединяйтесь к русскоязычному сообществу разработчиков на Spring Boot в телеграм — <a href="https://t.me/+oBwACbkvJ19iODAy">Spring АйО</a>, чтобы быть в курсе последних новостей из мира разработки на Spring Boot и всего, что с ним связано.</p><p>Ждем всех, <a href="https://t.me/+oBwACbkvJ19iODAy">присоединяйтесь</a>! </p><p></p></div></div></div><!-- --><!-- --></div><!-- --><!-- --></div><!--]--><!-- --><div class="tm-article-presenter__meta" data-test-id="article-meta-links"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[java]"><span>java</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[kotlin]"><span>kotlin</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[gradle]"><span>gradle</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[spring]"><span>spring</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[idea]"><span>idea</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[spring-boot]"><span>spring-boot</span></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-tags-list__link" href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=[build+system]"><span>build system</span></a><!--]--></li><!--]--><!-- --></ul></div><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span><ul class="tm-separated-list__list"><!--[--><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/companies/spring_aio/articles/"><!--[--><span>Блог компании Spring АйО</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/programming/"><!--[--><span>Программирование</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/java/"><!--[--><span>Java</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/kotlin/"><!--[--><span>Kotlin</span><!--]--></a><!--]--></li><li class="tm-separated-list__item"><!--[--><a class="tm-hubs-list__link" href="/ru/hubs/gradle/"><!--[--><span>Gradle</span><!--]--></a><!--]--></li><!--]--><!-- --></ul></div></div><!-- --><!--]--></article><!--]--></div><!-- --></div><div class="tm-article-sticky-panel" data-test-id="article-sticky-panel" style=""><div class="tm-data-icons tm-data-icons tm-data-icons_space-big tm-article-sticky-panel__icons" data-test-id="article-stats-icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon tm-votes-meter__icon_appearance-article" height="24" width="24"><title>Всего голосов 19: ↑17 и ↓2</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-rating"></use></svg><span class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_appearance-article tm-votes-meter__value_rating tm-votes-meter__value" data-test-id="votes-meter-value" title="Всего голосов 19: ↑17 и ↓2">+19</span></div><!--teleport start--><!--teleport end--><!-- --></div><!-- --><!-- --><button class="bookmarks-button tm-data-icons__item" title="Добавить в закладки" type="button"><span class="tm-svg-icon__wrapper bookmarks-button__icon"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Добавить в закладки</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-favorite"></use></svg></span><span class="bookmarks-button__counter" title="Количество пользователей, добавивших публикацию в закладки">29</span></button><div class="tm-sharing tm-data-icons__item" title="Поделиться"><button class="tm-sharing__button" type="button"><svg class="tm-sharing__icon" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13.8 13.8V18l7.2-6.6L13.8 5v3.9C5 8.9 3 18.6 3 18.6c2.5-4.4 6-4.8 10.8-4.8z" fill="currentColor"></path></svg></button><!--teleport start--><!--teleport end--></div><div class="tm-article-comments-counter-link tm-data-icons__item" title="Читать комментарии"><a class="tm-article-comments-counter-link__link" data-test-id="counter-comments" href="/ru/companies/spring_aio/articles/829702/comments/"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value">27</span><!--]--></a><!-- --></div><!--[--><!--[--><!--[--><!-- --><!--]--><!--]--><!--]--><!--teleport start--><!--teleport end--><!-- --></div></div></div><!--[--><!--]--><div class="tm-article-presenter__footer"><!--[--><!--[--><div class="tm-article-blocks"><!-- --><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><!-- --><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-balanced"><!--[--><div class="tm-article-author" data-test-id="article-author-info"><!--[--><!--[--><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a class="tm-company-snippet__logo-link" href="/ru/companies/spring_aio/profile/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" height="40" src="//habrastorage.org/getpro/habr/company/8f1/91a/458/8f191a4584b8fab12d15af23e447a1d5.png" width="40"/></div></a><div class="tm-company-snippet__info"><a class="tm-company-snippet__title" data-test-id="company-title" href="/ru/companies/spring_aio/profile/"><span>Spring АйО</span></a><div class="tm-company-snippet__description">Компания</div></div></div><div class="tm-article-author__buttons"><!-- --><!-- --></div></div><div class="tm-article-author__company-contacts"><!--[--><a class="tm-article-author__contact" href="https://telegram.me/spring_aio" rel="noopener" target="_blank">Telegram</a><a class="tm-article-author__contact" href="https://www.springnow.ru" rel="noopener" target="_blank">Сайт</a><!--]--></div><div class="tm-article-author__separator"></div></div><!--]--><!--]--><div class="tm-user-card tm-user-card tm-user-card_variant-article tm-article-author__user-card" data-async-called="true"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a class="tm-user-card__userpic tm-user-card__userpic_size-40" href="/ru/users/spring_aio/"><div class="tm-entity-image"><img alt="" class="tm-entity-image__pic" src="//habrastorage.org/getpro/habr/avatars/8e0/5e8/a1c/8e05e8a1c5fd4560f661efb2cb00e77e.png"/></div></a><div class="tm-user-card__meta"><div class="tm-counter-container tm-karma tm-karma" title=" 85 голосов "><div class="tm-counter-container__header"><!--[--><div class="karma-display positive" data-v-7635202e="">45</div><!-- --><!--]--></div><div class="tm-counter-container__footer"><!--[--><div class="tm-karma__text">Карма</div><!--teleport start--><!--teleport end--><!--]--></div></div><div class="tm-counter-container" title="Рейтинг пользователя"><div class="tm-counter-container__header"><!--[--><!--[--><!--]--><div class="tm-votes-lever tm-votes-lever tm-votes-lever_appearance-rating"><!-- --><div class="tm-votes-lever__score tm-votes-lever__score_appearance-rating tm-votes-lever__score_no-margin tm-votes-lever__score"><!--[--><span><span class="tm-votes-lever__score-counter tm-votes-lever__score-counter_rating tm-votes-lever__score-counter" data-test-id="votes-score-counter">105.9</span></span><!--]--></div><!-- --></div><!--]--></div><div class="tm-counter-container__footer"><!--[--><span class="tm-rating__text tm-rating__text">Рейтинг</span><!--]--></div></div></div></div></div><div class="tm-user-card__info tm-user-card__info_variant-article tm-user-card__info"><div class="tm-user-card__title tm-user-card__title_variant-article tm-user-card__title"><span class="tm-user-card__name tm-user-card__name_variant-article tm-user-card__name">Spring АйО</span><a class="tm-user-card__nickname tm-user-card__nickname tm-user-card__nickname_variant-article" href="/ru/users/spring_aio/"> @spring_aio</a><!-- --></div><p class="tm-user-card__short-info tm-user-card__short-info_variant-article tm-user-card__short-info" data-test-id="user-card-speciality">Главный по Spring</p></div></div><div class="tm-user-card__buttons tm-user-card__buttons_variant-article tm-user-card__buttons"><!-- --><div class="tm-user-card__button"><div class="tm-button-follow tm-user-card__button-follow"><!-- --><button class="tm-button-follow__button tm-button-follow__button_big" data-test-id="follow-button" type="button">Подписаться</button></div></div><!-- --><div class="tm-user-card__button tm-user-card__button_write" data-test-id="user-card-conversations"><svg class="tm-svg-img tm-user-card__button-icon" height="16" width="16"><title>Отправить сообщение</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#mail"></use></svg></div><!-- --></div><!-- --></div><!-- --></div><!--]--></div><!--]--><!-- --></section><!-- --><!--[--><!--]--><!--]--><div class="tm-article-blocks__comments"><div class="tm-article-page-comments" id="publication-comments"><div><!--[--><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style" data-test-id="counter-comments" href="/ru/companies/spring_aio/articles/829702/comments/"><!--[--><svg class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted" height="24" width="24"><title>Комментарии</title><use xlink:href="/img/megazord-v28.371b7fa3..svg#counter-comments"></use></svg><span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted"> Комментарии 27 </span><!--]--></a><!-- --></div><!--]--></div></div></div><!--[--><!--[--><!--]--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header tm-block__header_variant-borderless"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title tm-block__title_variant-large">Публикации</h2><!--[--><!--]--></div><!-- --></header><!--[--><div class="tm-block__body tm-block__body tm-block__body_variant-condensed-slim"><!--[--><!--[--><div class="tm-tabs tm-tabs"><div class=""><!--[--><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_active tm-tabs__tab-link_slim tm-tabs__tab-link">Лучшие за сутки</button></span><span class="tm-tabs__tab-item"><button class="tm-tabs__tab-link tm-tabs__tab-link_slim tm-tabs__tab-link">Похожие</button></span><!--]--></div><!-- --></div><div class="similar-and-daily__tab-view"><div class="placeholder-wrapper"><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><div class="tm-placeholder-article-cards"><!--[--><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><div class="tm-placeholder-article-card"><div class="tm-placeholder__user"><div class="tm-placeholder__user-pic loads"></div><div class="tm-placeholder__user-date loads"></div></div><div class="tm-placeholder-article-card__title"><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div><div class="tm-placeholder__line tm-placeholder-article-card__title-line loads"></div></div><div class="tm-placeholder-article-card__icons tm-placeholder__counters"><!--[--><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><div class="tm-placeholder-data-icon"><div class="tm-placeholder__icon tm-placeholder__icon_large loads"></div><div class="tm-placeholder__line tm-placeholder__line_icon-text"></div></div><!--]--></div></div><!--]--></div><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --><!-- --></div><!-- --></div><!--]--><!--]--></div><!--]--><!-- --></section><!--[--><!--]--><!-- --><!--[--><!--]--><!--]--></div><!--]--><!--]--></div></div><!--]--><!--]--></div></div><div class="tm-page__sidebar"><!--[--><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div><div class="tm-sexy-sidebar_initial tm-sexy-sidebar" style="margin-top:0px;"><!--[--><!--]--><!-- --><div class="tm-layout-sidebar__placeholder_initial"></div><!--[--><section class="tm-block tm-block tm-block_spacing-bottom"><header class="tm-block__header tm-block__header"><div class="tm-block__header-container"><h2 class="tm-block__title tm-block__title">Информация</h2><!--[--><!--]--></div><!-- --></header><!--[--><div class="tm-block__body tm-block__body"><!--[--><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Сайт</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><a class="tm-company-basic-info__link" href="https://t.me/spring_aio" target="_blank">t.me</a><!--]--></dd></dl><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Дата регистрации</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[--><time datetime="2024-05-27T07:08:22.000Z" title="2024-05-27, 10:08">27  мая  2024</time><!--]--></dd></dl><!-- --><dl class="tm-description-list tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap tm-description-list__title">Численность</dt><dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap tm-description-list__body"><!--[-->11–30 человек<!--]--></dd></dl><!-- --><!-- --></div><!--]--></div><!--]--><!-- --></section><div class="tm-company-widgets"><!--[--><!--]--></div><!-- --><!-- --><!--]--><!-- --></div></div><!--]--></div></div><!-- --><!--]--></div></div></main><!-- --></div><div class="tm-footer-menu"><div class="tm-page-width"><!--[--><div class="tm-footer-menu__container"><!--[--><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Ваш аккаунт</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/companies/spring_aio/articles/829702/&amp;hl=ru" rel="nofollow" target="_self">Войти</a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/companies/spring_aio/articles/829702/&amp;hl=ru" rel="nofollow" target="_self">Регистрация</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Разделы</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/articles/">Статьи</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/news/">Новости</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/hubs/">Хабы</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/companies/">Компании</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/users/">Авторы</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/sandbox/">Песочница</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Информация</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/help/">Устройство сайта</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/authors/codex/">Для авторов</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/companies/corpblogs/">Для компаний</a></li><li class="tm-footer-menu__list-item"><a class="footer-menu__item-link" href="/ru/docs/docs/transparency/">Документы</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement/?hl=ru_RU" target="_blank">Соглашение</a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/?hl=ru_RU" target="_blank">Конфиденциальность</a></li><!--]--></ul></div></div><div class="tm-footer-menu__block"><p class="tm-footer-menu__block-title">Услуги</p><div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><!--[--><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/corporate-blogs/" target="_blank">Корпоративный блог</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/advertising/" target="_blank">Медийная реклама</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/native-special/" target="_blank">Нативные проекты</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/education-programs/" target="_blank">Образовательные программы</a></li><li class="tm-footer-menu__list-item"><a href="https://company.habr.com/ru/hello-startup/" target="_blank">Стартапам</a></li><!--]--></ul></div></div><!--]--></div><!--]--></div></div><div class="tm-footer"><div class="tm-page-width"><!--[--><div class="tm-footer__container"><!-- --><div class="tm-footer__social"><!--[--><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Facebook</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Twitter</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>VK</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-vk"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Telegram</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Youtube</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a class="tm-svg-icon__wrapper tm-social-icons__icon" href="https://dzen.ru/habr" rel="nofollow noopener noreferrer" target="_blank"><svg class="tm-svg-img tm-svg-icon" height="24" width="24"><title>Яндекс Дзен</title><use xlink:href="/img/new-social-icons-sprite.svg#social-logo-dzen"></use></svg></a><!--]--></div><!--teleport start--><!--teleport end--><button class="tm-footer__link"><!-- --> Настройка языка</button><a class="tm-footer__link" href="/ru/feedback/">Техническая поддержка</a><div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2025, </span><span class="tm-copyright__name"><a class="tm-copyright__link" href="https://company.habr.com/" rel="noopener" target="_blank">Habr</a></span></span></div></div><!--]--></div></div><!-- --><!--]--></div><!-- --></div></div>
<div id="overlays"><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--><!-- --><!--teleport anchor--></div>
</body>
</html>
